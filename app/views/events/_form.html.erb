<div class="new-event-box">
<h1> Use This Event </h1>

<% if current_user.id == @event.user_id %>
  <%= form_with(model: @event, local:true) do |f| %>
  <br>
  <%= f.label "Name: ", class: 'form-label' %>
  <%= f.text_field :name %>
  <br>
  <%= f.label "Description: ", class: 'form-label' %>
  <%= f.text_field :description %>
  <br>
  <%= f.label "Location: ", class: 'form-label' %>
  <%= f.select(:location, $locations) %>
  <br>
  <%= f.label "Start time", class: 'form-label' %>
  <%= f.datetime_select :start_time, ampm: true %>
  <br>
  <%= f.label "Duration", class: 'form-label' %>
  <span><%= f.select :duration, (1..10) %> hours</span>
  <%= f.label "Cost", class: 'form-label' %>
  <span>$<%= f.select :cost, (1..1000), step: 5 %></span>
  <p><%= f.submit %></p>
  <% end %>
<% else %>
  <%= form_with(model: Event.new, local: true) do |f| %>
  <br>
  <%= f.label "test", class: 'form-label' %>
  <%= f.text_field :name, value: @event.name %>
  <br>
  <%= f.label "Description: ", class: 'form-label' %>
  <%= f.text_field :description, value: @event.description %>
  <br>
  <%= f.label "Location: ", class: 'form-label' %>
  <%= f.select(:location, $locations) %>
  <br>
  <%= f.label "Start time", class: 'form-label' %>
  <%= f.datetime_select :start_time %>
  <br>
  <%= f.label "Duration", class: 'form-label' %>
  <span><%= f.select :duration, (1..10) %> hours</span>
  <%= f.label "Cost", class: 'form-label' %>
  <span>$<%= f.select :cost, (1..1000), step: 5 %></span>

  <% if current_user.trips.empty? %>
    <p>You have no trips to add this to! But I guess you can clone it for later. </p>
  <% else %>
    <%= f.select :trip_ids, options_from_collection_for_select(current_user.trips.all, 'id', 'name') %>
    <%= f.hidden_field :event, :value => @event.id%>
  <% end %>

  <%= f.submit "Clone Me"%>
  <% end %>
<% end %>

</div>
